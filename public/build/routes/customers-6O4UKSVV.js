import{a as g}from"/build/_shared/chunk-XPUKSWXU.js";import{b as i}from"/build/_shared/chunk-LWBMBOK4.js";import{a as C,e as y,f as r}from"/build/_shared/chunk-4P2AEKIR.js";import{a as O,b as N}from"/build/_shared/chunk-BRYEQANA.js";import{a as f,e as p,f as b}from"/build/_shared/chunk-IHFEL2CD.js";import{J as h,a as $,y as u}from"/build/_shared/chunk-XTGBAL5E.js";import{e as n}from"/build/_shared/chunk-ADMCF34Z.js";var A=n(O());var a=n($());var t=n(h()),F=()=>[{title:`${N} - Customers`}];function E(){let{customers:s}=p(),e=b(),o=u(),[D,v]=(0,a.useState)(0),[w,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{e&&(e.customerCreated&&m(!1),e.customerDeleted&&c(!1))},[e]),(0,t.jsxs)("div",{className:C,children:[s&&s.length?(0,t.jsxs)("table",{className:"table static",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"hidden md:table-row",children:[(0,t.jsx)("th",{children:"ID"}),(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Tel"}),(0,t.jsx)("th",{children:"Email"}),(0,t.jsx)("th",{children:"Address"}),(0,t.jsx)("th",{className:"md:text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:s&&s.map(({customer_id:l,name:x,tel:M,email:T,address:I})=>(0,t.jsxs)("tr",{className:y,children:[(0,t.jsx)("td",{"data-label":"ID",className:r,children:l}),(0,t.jsx)("td",{"data-label":"Name",className:r,children:x}),(0,t.jsx)("td",{"data-label":"Tel",className:r,children:M}),(0,t.jsx)("td",{"data-label":"Email",className:r,children:T}),(0,t.jsx)("td",{"data-label":"Address",className:r,children:I}),(0,t.jsx)("td",{"data-label":"Actions",className:`${r} md:text-right`,children:(0,t.jsx)("button",{className:"btn",onClick:()=>{v(l),c(!0)},children:"DELETE"})})]},l))})]}):(0,t.jsx)("p",{className:"text-center",children:"No customers found..."}),(0,t.jsx)("div",{className:"flex justify-end mt-4",children:(0,t.jsx)("button",{className:"btn",onClick:()=>{m(!0)},children:"Add new customer +"})}),(0,t.jsxs)(i,{open:d,children:[(0,t.jsx)("h3",{className:"mb-4",children:"Create new customer"}),d&&(0,t.jsx)(g,{actionName:"create",navigation:o,formErrors:e==null?void 0:e.createActionErrors,onCancel:()=>{m(!1),e&&(e.createActionErrors={})}})]}),(0,t.jsxs)(i,{open:w,children:[(0,t.jsx)("p",{className:"py-4",children:"Are you sure you want to delete this customer?"}),e&&e.deleteActionsErrors&&(0,t.jsx)("p",{className:"text-error mt-1 text-xs",children:e.deleteActionsErrors.info}),(0,t.jsxs)("div",{className:"modal-action",children:[(0,t.jsxs)(f,{replace:!0,method:"post",children:[(0,t.jsx)("input",{type:"hidden",name:"customer_id",value:D}),(0,t.jsx)("button",{className:"btn",type:"submit",name:"_action",value:"delete",disabled:o.state==="submitting",children:o.state==="submitting"?"Confirming...":"Confirm"})]}),(0,t.jsx)("button",{className:"btn",disabled:o.state==="submitting",onClick:()=>c(!1),children:"Cancel"})]})]})]})}export{E as default,F as meta};
